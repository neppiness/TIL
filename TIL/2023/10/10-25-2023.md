**TIL on October 25th, 2023**

## PS Using C++
### BOJ#1748: ìˆ˜ ì´ì–´ ì“°ê¸° 1
* ê° ìë¦¿ìˆ˜ ìˆ«ìë“¤ì— ëŒ€í•´ì„œ ê³„ì‚°í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰.
* 2ë²ˆì§¸ ì œì¶œ: AC
    - ë©”ëª¨ë¦¬: 2020 kB, ì‹œê°„: 0 ms, ì½”ë“œ ê¸¸ì´: 445 B

<br>

# Wanted pre-onboarding team assignment
## 1. í• ë‹¹ëœ ì—…ë¬´ì— ëŒ€í•œ ì§„í–‰ìƒí™© ê³µìœ 
* í†µê³„ ì»¨íŠ¸ë¡¤ëŸ¬ ì„¤ê³„
    - 2ë²ˆ í•­ëª©ì—ì„œ ìƒì„¸íˆ ì„œìˆ 

<br>

## 2. ì§„í–‰í•œ ì‘ì—…ì— ëŒ€í•œ ë¦¬ë·° ë° ì»¤ë°‹í•œ ë‚´ìš© ë¦¬ë·°ì§„í–‰
### í†µê³„ ì»¨íŠ¸ë¡¤ëŸ¬ ì„¤ê³„
* RequestMapping: (/statistic or /stat), ì˜ê²¬ êµ¬í•˜ê¸°
* í™œìš© ê°€ëŠ¥í•œ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°
    - value
        + ê°€ëŠ¥í•œ ê°’: count, view_count, like_count, share_count
        + ê·¸ì™¸ ê°’: ì˜ˆì™¸ ë°œìƒ
        + valueì— ë”°ë¼ì„œ ì„œë¡œ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë¡œì§ í˜¸ì¶œ
    - hashtag
        + ì„¤ì •ëœ í•´ì‰¬íƒœê·¸. ë˜ëŠ” ë³¸ì¸ ê³„ì •.
        + ë³¸ì¸ ê³„ì •ì´ ë˜ê¸° ìœ„í•´ì„  JWT ì¸ì¦ì— ë”°ë¥¸ ìœ ì € idë¥¼ ê°€ì§€ê³  íƒœê·¸ë¥¼ ìƒì„±í•´ì•¼ í•  ê²ƒìœ¼ë¡œ ìƒê°ë¨.
    - type
        + ê°€ëŠ¥í•œ ê°’: date, hour
        + ê·¸ì™¸ ê°’: ì˜ˆì™¸ ë°œìƒ
        + ë³€ìˆ˜ëª… ë³€ê²½ ì œì•ˆ: timeunit - ì‹œê°„ ë‹¨ìœ„ì— ëŒ€í•œ ì„¤ì •ì´ê¸° ë•Œë¬¸
    - start / end
        + date í˜•ì‹
        + start > end ê±°ë‚˜, ì˜ëª»ëœ ê²½ìš° ì˜ˆì™¸ ë°œìƒ
        + startë¥¼ ì‹œì‘ìœ¼ë¡œ ìµœëŒ€ 30ì¼ê¹Œì§€ë§Œ ê²€ìƒ‰ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„
* êµ¬í˜„í•˜ê³ ì í•˜ëŠ” ìš”ì†Œ
    - StatisticController
    - StatisticService
        + PostRepositoryë¥¼ í™œìš©í•´ì•¼í•  ê²ƒìœ¼ë¡œ íŒë‹¨.
        + í†µê³„ëŠ” ì €ì¥ì†Œ(repository)ì— ê¸°ë¡ë  ê²ƒì´ ì•„ë‹ˆë¼ê³  íŒë‹¨ë¨. ì´ì— ëŒ€í•œ ì˜ê²¬ì„ êµ¬í•¨.


<br>

## 3. Today I Learned
### ë„ë©”ì¸ ì˜ì—­ì´ë€
* ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ì„œë¹„ìŠ¤ëŠ” ì–´ë–¤ ëŒ€ìƒì„ ê°€ë¦¬í‚¤ëŠ”ì§€ ì •í™•íˆ ì´í•´ë¨.
    - ê·¸ëŸ¬ë‚˜, ë„ë©”ì¸ì˜ ê²½ìš°ëŠ” ê·¸ë ‡ì§€ ì•Šì•˜ìŒ.
    - ì¼ë‹¨ ë‹¨ì–´ë¶€í„° ëª¨í˜¸í•¨. ~~ë„ë©”ì¸ ì˜ì—­ì´ë¼ëŠ” ê²Œ ë­˜ê¹Œ. ì˜ì—­ ì˜ì—­ì´ë¼ëŠ” ê±´ê°€?~~
    - ê·¸ë ‡ê¸°ì— ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´ë§ ê´€ì ì—ì„œ Domainì˜ ì •ì˜ë¥¼ ì°¾ì•„ë´„.
* [Domain (software engineering) - Wikipedia](https://en.wikipedia.org/wiki/Domain_(software_engineering))

> A domain is the targeted subject area of a computer program. It is a term used in software engineering. Formally it represents the target subject of a specific programming project, whether narrowly or broadly defined.[1]

> For example, for a particular programming project that has as a goal the creation of a program for a particular hospital, that hospital would be the domain.

* ë‘ë²ˆì§¸ ë¬¸ë‹¨ì„ ë³´ë©´:
    - "íŠ¹ì • í”„ë¡œê·¸ë˜ë° í”„ë¡œì íŠ¸ê°€ íŠ¹ì • ë³‘ì›ì— ëŒ€í•œ í”„ë¡œê·¸ë¨ì„ ë§Œë“œëŠ” ê²Œ ëª©í‘œë¼ë©´ ë³‘ì›ì´ ë„ë©”ì¸ì´ ë  ìˆ˜ ìˆë‹¤."ê³  í•¨.
    - ë”°ë¼ì„œ, ë„ë©”ì¸ì€ ê·¸ ìì²´ê°€ ë¬¸ì œ ì˜ì—­ì´ë‹¤.
* ì§€ê¸ˆê¹Œì§€ëŠ” ì¢ê²Œ ë„ë©”ì¸ì€ ì–´ë–¤ 'ëŒ€ìƒ'ì„ ê°€ë¦¬í‚¤ëŠ” ê²ƒì´ë©°, ê·¸ì— ëŒ€í•œ ì†ì„±ë§Œ í¬í•¨ë˜ì–´ì•¼ í•œë‹¤ê³  ìƒê°í–ˆì—ˆëŠ”ë° ì´ì— ëŒ€í•´ ì •ë¦¬ê°€ ë¨.
    - ë„ë©”ì¸ì´ ì£¼ì²´ê°€ ë˜ëŠ” ê²½ìš°, ë„ë©”ì¸ì„ ë‹´ëŠ” ì €ì¥ì†Œì¸ ë¦¬í¬ì§€í† ë¦¬(repository) ì—­ì‹œ ë„ë©”ì¸ì— ì†í•œ ê²ƒì´ë¼ ìƒê°í•  ìˆ˜ ìˆì„ ê²ƒ.


### JWTë¥¼ í†µí•œ ì¸ì¦, ìœ ì € ì´ë¦„ ì°¾ëŠ” ë²•.
* ì¿ í‚¤ì™€ ì„¸ì…˜ì˜ ëŒ€ì•ˆìœ¼ë¡œ ë‚˜íƒ€ë‚¨.
    - ì¿ í‚¤ì—ëŠ” ID, PWê°€ ì§ì ‘ ë‹´ê²¨ìˆì—ˆê³ , ì´ë¥¼ íƒˆì·¨ë‹¹í•˜ëŠ” ê²½ìš° ë¬¸ì œê°€ ë°œìƒ
    - ì„¸ì…˜ì€ ì¸ì¦ëœ ID, PWì— ëŒ€í•´ì„œ ìƒì„±ë˜ë©°, ì´ë¥¼ ì €ì¥ì†Œì— ì €ì¥í•´ë‘ê³  í•­ìƒ ë§¤ì¹­
        + ê·¸ëŸ¬ë‚˜ HTTPì˜ ë¬´ìƒíƒœì„±(stateless)ì— ìœ„ë°°ë¨
* ì´ì— ë”°ë¼ JWT(Json Web Token)ì´ ëŒ€ë‘ë¨.
    - ì¸í„°ë„· í‘œì¤€ ì¸ì¦ ë°©ì‹ì´ ë¨.
* JWTëŠ” ê°ê°ì˜ êµ¬ì„± ìš”ì†Œê°€ ì (.)ìœ¼ë¡œ êµ¬ë¶„ë¨.
    - Header, Payload, Signatureë¡œ êµ¬ì„±

1. Header
    - í—¤ë”ì—ëŠ” í† í° íƒ€ì…ì´ë‚˜ ì„œëª… ìƒì„± ì•Œê³ ë¦¬ì¦˜ì„ ì €ì¥í•œë‹¤.

```json
{
    "typ": "JWT",
    "alg": "HS512"
}
```

2. Payload
    - Claimì´ë¼ëŠ” í† í° propertyê°€ ë“¤ì–´ê°
    - ì˜ˆì‹œëŠ” ì•„ë˜ì™€ ê°™ìŒ.

```json
{
    "sub": "1",
    "iss": "ori",
    "exp": 1636989718,
    "iat": 1636989918
}
```

* í‘œì¤€ ìŠ¤í™ì€ ì•„ë˜ì™€ ê°™ìŒ.
1. iss (Issuer) : í† í° ë°œê¸‰ì
2. sub (Subject) : í† í° ì œëª© - í† í°ì—ì„œ ì‚¬ìš©ìì— ëŒ€í•œ ì‹ë³„ê°’ì´ ë¨(PKê°€ ë˜ì–´ì•¼ í•  ë“¯)
3. aud (Audience) : í† í° ëŒ€ìƒì
4. exp (Expiration Time) : í† í° ë§Œë£Œ ì‹œê°„
5. nbf (Not Before) : í† í° í™œì„± ë‚ ì§œ (ì´ ë‚ ì§œ ì´ì „ì˜ í† í°ì€ í™œì„±í™” ë˜ì§€ ì•ŠìŒì„ ë³´ì¥)
6. iat (Issued At) : í† í° ë°œê¸‰ ì‹œê°„
7. jti (JWT Id) : JWT í† í° ì‹ë³„ì (ë°œê¸‰ìê°€ ì—¬ëŸ¬ëª…ì¼ ë•Œ ì´ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•œ ê°’)

3. Signature
    - headerì™€ payload, ê·¸ë¦¬ê³  256 bit ì¸ì¦í‚¤ë¥¼ í™œìš©í•´ì„œ ì„œëª….

```
HMACSHA256(
  base64UrlEncode(header) + "." +
  base64UrlEncode(payload),
  your-256-bit-secret
)
```

* ì°¸ê³ ìë£Œ
    - [JWT(Json Web Token) ì¸ì¦ë°©ì‹](https://velog.io/@jinyoungchoi95/JWTJson-Web-Token-ì¸ì¦ë°©ì‹)
    - [ğŸŒ JWT í† í° ì¸ì¦ ì´ë€? (ì¿ í‚¤ vs ì„¸ì…˜ vs í† í°)](https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-JWTjson-web-token-%EB%9E%80-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC)

### ymlê³¼ .propertiesì˜ ì°¨ì´
* YAML: YAML Ain't Markup Language
    - YAMLì€ ì¹œì¸ê°„ì (human-friendly) ë…¸í…Œì´ì…˜ì´ë‹¤.
    - ê³„ì¸µì  ì»¨í”½ ë°ì´í„°ì— ì™„ë²½í•˜ë‹¤
    - map, list, ê·¸ë¦¬ê³  ìŠ¤ì¹¼ë¼ í˜•ì„ ì§€ì›í•œë‹¤.
* ë‹¤ì–‘í•œ í™œìš©ë²•ì„ ë‚˜íƒ€ë‚´ëŠ” ì˜ˆì‹œ

![img](./img/yaml.example.png)

* ë™ì¼í•œ ë‚´ìš©ì„ ymlê³¼ .propertiesë¡œ ì‘ì„±í•˜ë©´ ê°ê° ì•„ë˜ì™€ ê°™ì´ ëœë‹¤.

```yml
component:
  idm:
    url: myurl
    user: user
    password: password
    description: >
      this should be a long 
      description
  service:
    url: myurlservice
    token: token
    description: >
      this should be another long 
      description
```

```properties
component.idm.url=myurl
component.idm.user=user
component.idm.password=password
component.idm.description=this should be a long \
                          description
component.service.url=myurlservice
component.service.token=token
component.service.description=this should be another long \ 
                              description
```

* ì°¸ê³ ìë£Œ: [Spring YAML vs Properties | Baeldung](https://www.baeldung.com/spring-yaml-vs-properties)
* ì°¸ê³ ìë£Œ: [Why should we prefer the YAML file over the properties file for configurations in Spring Boot projects?](https://itnext.io/why-should-we-prefer-the-yaml-file-over-the-properties-file-for-configurations-in-spring-boot-f31a273a923b)

